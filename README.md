# Mermaid LangGraph (Static SPA)

–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –∏ —Ä–µ–¥–∞–∫—Ç–æ—Ä –¥–∏–∞–≥—Ä–∞–º–º Mermaid, —Ä–∞–±–æ—Ç–∞—é—â–∏–π –ø–æ–ª–Ω–æ—Å—Ç—å—é –≤ –±—Ä–∞—É–∑–µ—Ä–µ (Static SPA). –ü—Ä–∏–Ω–∏–º–∞–µ—Ç –ø—Ä–æ–º–ø—Ç—ã –Ω–∞ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–º —è–∑—ã–∫–µ –∏–ª–∏ –∫–æ–¥, –æ–±—Ä–∞—â–∞–µ—Ç—Å—è –∫ –ª–æ–∫–∞–ª—å–Ω–æ–º—É `cliproxyapi` (LLM) –∏ –≤—ã–¥–∞—ë—Ç –≤–∞–ª–∏–¥–Ω—ã–π –∫–æ–¥ –¥–∏–∞–≥—Ä–∞–º–º —Å –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–π –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–µ–π.

## –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### üß† –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è
- **–£–º–Ω—ã–π –∞–Ω–∞–ª–∏–∑:** –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–∏–ø –¥–∏–∞–≥—Ä–∞–º–º—ã –ø–æ –≤–∞—à–µ–º—É –æ–ø–∏—Å–∞–Ω–∏—é ("–•–æ—á—É —Å—Ö–µ–º—É –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö" -> `erDiagram`) –∏–ª–∏ –≤–≤–µ–¥–µ–Ω–Ω–æ–º—É –∫–æ–¥—É.
- **–î–≤—É—Ö—Ñ–∞–∑–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å:** –°–Ω–∞—á–∞–ª–∞ —Å—Ç—Ä–æ–∏—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞, –∑–∞—Ç–µ–º –Ω–∞–∫–ª–∞–¥—ã–≤–∞–µ—Ç—Å—è —Å—Ç–∏–ª—å (–æ—Ç–¥–µ–ª—å–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã –∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç).
- **–ê–≤—Ç–æ-–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:** –ï—Å–ª–∏ LLM –≤—ã–¥–∞–ª–∞ –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–π –∫–æ–¥ (—Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞), —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç —Ü–∏–∫–ª –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π (–¥–æ 5 –ø–æ–ø—ã—Ç–æ–∫), –ø–µ—Ä–µ–¥–∞–≤–∞—è —Ç–µ–∫—Å—Ç –æ—à–∏–±–∫–∏ –æ–±—Ä–∞—Ç–Ω–æ –≤ –º–æ–¥–µ–ª—å.

### üõ† –†–µ–¥–∞–∫—Ç–æ—Ä –∏ –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
- **Live Preview:** –ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä –¥–∏–∞–≥—Ä–∞–º–º—ã –ø—Ä–∏ –≤–≤–æ–¥–µ –≤–∞–ª–∏–¥–Ω–æ–≥–æ –∫–æ–¥–∞ –≤—Ä—É—á–Ω—É—é.
- **–ü—Ä—è–º–∞—è –≤—Å—Ç–∞–≤–∫–∞:** –ú–æ–∂–Ω–æ –≤—Å—Ç–∞–≤–∏—Ç—å "–≥—Ä—è–∑–Ω—ã–π" –∫–æ–¥ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∏–∑ —á–∞—Ç–∞ —Å LLM, —Å —Ç—Ä–æ–π–Ω—ã–º–∏ –∫–∞–≤—ã—á–∫–∞–º–∏ ` ``` ` –∏–ª–∏ –æ–ø–µ—á–∞—Ç–∫–∞–º–∏ `marmaid`) ‚Äî —Å–∏—Å—Ç–µ–º–∞ —Å–∞–º–∞ –µ–≥–æ –æ—á–∏—Å—Ç–∏—Ç –∏ —Ä–∞—Å–ø–æ–∑–Ω–∞–µ—Ç.
- **–ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π:**
    - **–ü–æ—Å—Ç—Ä–æ–∏—Ç—å:** –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –¥–∏–∞–≥—Ä–∞–º–º—É –ø–æ –æ–ø–∏—Å–∞–Ω–∏—é –∏–ª–∏ —É–ª—É—á—à–∞–µ—Ç –≤–≤–µ–¥–µ–Ω–Ω—ã–π –∫–æ–¥.
    - **–ò—Å–ø—Ä–∞–≤–∏—Ç—å –¥–∏–∞–≥—Ä–∞–º–º—É:** –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –∑–∞–ø—É—Å–∫–∞–µ—Ç —Ä–µ–∂–∏–º –ø–æ—á–∏–Ω–∫–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã (–ø–æ–ª–µ–∑–Ω–æ –¥–ª—è —Å–ª–æ–º–∞–Ω–Ω–æ–≥–æ –∫–æ–¥–∞).
    - **–ò—Å–ø—Ä–∞–≤–∏—Ç—å —Å—Ç–∏–ª—å:** –ü–µ—Ä–µ–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å—Ç–∏–ª–∏ (—Ü–≤–µ—Ç–∞, —Ç–µ–º—ã), —Å–æ—Ö—Ä–∞–Ω—è—è —Å—Ç—Ä—É–∫—Ç—É—Ä—É.
    - **–ù–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç:** –û—á–∏—â–∞–µ—Ç –∏—Å—Ç–æ—Ä–∏—é.

### üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- **–ü—Ä—è–º–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Å GitHub:** –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–∫–∞—á–∏–≤–∞–µ—Ç –∞–∫—Ç—É–∞–ª—å–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é Mermaid (`.md` —Ñ–∞–π–ª—ã) –Ω–∞–ø—Ä—è–º—É—é –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è `mermaid-js/mermaid` —á–µ—Ä–µ–∑ API GitHub. –ë—ç–∫–µ–Ω–¥ –Ω–µ –Ω—É–∂–µ–Ω.
- **–í—ã–±–æ—Ä –≤–µ—Ä—Å–∏–∏:** –ú–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –≤–µ—Ä—Å–∏—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ (—Ç–µ–≥ —Ä–µ–ª–∏–∑–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä `v11.1.0` –∏–ª–∏ –≤–µ—Ç–∫—É `develop`).
- **Offline-ready:** –ö–Ω–æ–ø–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–∫–∞—á–∞—Ç—å –≤—Å—é –Ω–µ–æ–±—Ö–æ–¥–∏–º—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –≤ –∫—ç—à –±—Ä–∞—É–∑–µ—Ä–∞ –¥–ª—è –±—ã—Å—Ç—Ä–æ–π —Ä–∞–±–æ—Ç—ã.

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

1.  **–õ—é–±–æ–π —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –≤–µ–±-—Å–µ—Ä–≤–µ—Ä:**
    *   `npx serve`
    *   `python -m http.server`
    *   VS Code "Live Server"
2.  **–õ–æ–∫–∞–ª—å–Ω—ã–π LLM API (`cliproxyapi`):**
    *   –°–æ–≤–º–µ—Å—Ç–∏–º—ã–π —Å OpenAI API —Å–µ—Ä–≤–µ—Ä, –∑–∞–ø—É—â–µ–Ω–Ω—ã–π –ª–æ–∫–∞–ª—å–Ω–æ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `http://localhost:8317`).
3.  **–ë—Ä–∞—É–∑–µ—Ä:** –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π Chrome/Edge/Firefox/Safari.

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

1.  **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏):**
    ```bash
    npm install
    ```
2.  **–ó–∞–ø—É—Å–∫:**
    –ü—Ä–æ—Å—Ç–æ —Ä–∞–∑–¥–∞–π—Ç–µ –ø–∞–ø–∫—É `public` –∫–∞–∫ —Å—Ç–∞—Ç–∏–∫—É.
    ```bash
    # –í–∞—Ä–∏–∞–Ω—Ç —Å Node.js
    npx serve public

    # –í–∞—Ä–∏–∞–Ω—Ç —Å Python
    python3 -m http.server 8000 --directory public
    ```
3.  **–ù–∞—Å—Ç—Ä–æ–π–∫–∞:**
    –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ. –í–≤–µ–¥–∏—Ç–µ URL –≤–∞—à–µ–≥–æ –ø—Ä–æ–º–ø—Ç-–ø—Ä–æ–∫—Å–∏ (–µ—Å–ª–∏ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç –¥–µ—Ñ–æ–ª—Ç–Ω–æ–≥–æ) –∏ –≤—ã–±–µ—Ä–∏—Ç–µ –º–æ–¥–µ–ª—å.

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–ü—Ä–æ–µ–∫—Ç —è–≤–ª—è–µ—Ç—Å—è –ø–æ–ª–Ω–æ—Å—Ç—å—é –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º (Vanilla JS + ES Modules).

*   `public/index.html`: –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞.
*   `public/js/main.js`: –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ UI –∏ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è.
*   `public/js/api.js`: –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å `cliproxyapi` (OpenAI API).
*   `public/js/docsManager.js`: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π (GitHub API, –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ).
*   `public/js/workflows.js`: –°—Ü–µ–Ω–∞—Ä–∏–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ (Structure Flow, Style Flow, Fix Flow).
*   `public/js/utils.js`: –£—Ç–∏–ª–∏—Ç—ã (–¥–µ—Ç–µ–∫—Ü–∏—è —Ç–∏–ø–∞ –¥–∏–∞–≥—Ä–∞–º–º—ã Regex).
*   `legacy_server.js`: (–ê—Ä—Ö–∏–≤) –°—Ç–∞—Ä—ã–π Node.js —Å–µ—Ä–≤–µ—Ä, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–≤—à–∏–π—Å—è –¥–æ –ø–µ—Ä–µ—Ö–æ–¥–∞ –Ω–∞ —Å—Ç–∞—Ç–∏–∫—É.

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ `localStorage` –±—Ä–∞—É–∑–µ—Ä–∞ (—á–µ—Ä–µ–∑ `state.js`).

–û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (–≤ –∫–æ–¥–µ `state.js`):
- `cliproxyBaseUrl`: URL –ø—Ä–æ–∫—Å–∏.
- `cliproxyApiToken`: –¢–æ–∫–µ–Ω (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `test`).
- `maxStructureRetries`: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ø—ã—Ç–æ–∫ –∞–≤—Ç–æ-—Ñ–∏–∫—Å–∞ (5).

## –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

*   **–õ–∏–Ω—Ç–∏–Ω–≥:** `npm run lint` (ESLint + Prettier).
*   **–°—Ç–∏–ª—å:** –°—Ç–∞—Ä–∞–π—Ç–µ—Å—å –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç—è–∂–µ–ª—ã–µ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∏. –¢–æ–ª—å–∫–æ –Ω–∞—Ç–∏–≤–Ω—ã–π JS.

## –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- `docs/constitution.md`: –ü—Ä–∏–Ω—Ü–∏–ø—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.
- `features/`: –û–ø–∏—Å–∞–Ω–∏–µ —Ñ–∏—á –∏ –ø–ª–∞–Ω—ã.